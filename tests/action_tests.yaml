- name: position_check
  A:
    unit: Dummy
    cell: !cell [0, 0]
  B:
    unit: Dummy
    cell: !cell [0, 1]
  actions_A: []
  actions_B: []
  checks:
    - cell: !cell [0, 0]
      check: !prop cell.object
      result: !prop A
    - cell: !cell [0, 1]
      check: !prop cell.object
      result: !prop B

- A:
    unit: Dummy
    cell: !cell [0, 0]
  B:
    unit: Dummy
    cell: !cell [0, 1]
  actions_A:
    - action_name: Move
      args:
        path: !cell [1, 0]
  actions_B: []
  checks:
    - cell: !cell [1, 0]
      check: !prop cell.object
      result: !prop A
    - cell: !cell [0, 1]
      check: !prop cell.object
      result: !prop B

- A:
    unit: Dummy
    cell: !cell [0, 0]
  B:
    unit: Dummy
    cell: !cell [0, 1]
  actions_A:
    - action_name: Attack
      args: {}
  actions_B: []
  checks:
    - cell: !cell [1, 0]
      check: !prop B.stats.health
      result: 75

- A:
    unit: Dummy
    cell: !cell [0, 0]
  B:
    unit: Dummy
    cell: !cell [0, 1]
  actions_A:
    - action_name: Move
      args:
        path: !cell [2, 1]
    - action_name: Move
      args:
        path: !cell [2, 1]
  actions_B: []
  checks:
    - cell: !cell [2, 1]
      check: !prop cell.object
      result: !prop A

- A:
    unit: Dummy
    cell: !cell [0, 0]
  B:
    unit: Dummy
    cell: !cell [0, 1]
  actions_A:
    - action_name: Move
      args:
        path: !cell [0, 0]
  actions_B: []
  checks:
    - cell: !cell [0, 0]
      check: !prop cell.object
      result: !prop A

- A:
    unit: Agent
    cell: !cell [0, 0]
  B:
    unit: Dummy
    cell: !cell [0, 1]
  actions_A:
    - action_name: AgentShoot
      args:
        hit: !cell [0, 1]
  actions_B: []
  checks:
    - cell: !cell [0, 0]
      check: !expr ["Reloading", "in", !prop cell.object]
      result: true

- name: on_kill_and_on_apply_event_tests
  A:
    unit: EvilDummy
    cell: !cell [0, 0]
  B:
    unit: Dummy
    cell: !cell [0, 1]
  actions_A:
    - action_name: Attack
      args: {}
  actions_B: []
  checks:
    - cell: !cell [0, 0]
      check: !prop A.stats.health
      result: 201

- name: regen_test
  A:
    unit: HealthyDummy
    cell: !cell [0, 0]
  B:
    unit: Dummy
    cell: !cell [0, 1]
  actions_A: []
  actions_B: []
  checks:
    - cell: !cell [0, 0]
      check: !prop A.stats.health
      result: 110