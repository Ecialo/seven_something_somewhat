#:import fch kivy.uix.filechooser
#<-HexCellWidget>:
#    id: hexcell
#    canvas:
#        PushMatrix:
#        Color:
#            rgba: 0, 0, 0, 1
#        Translate:
#            xy: self.pos
#        Line:
#            points: self.points_vertices
#            width: 1.5
#        Color:
#            rgba: 0, 0, 0, 0.5*self.is_selected
#        Mesh:
#            vertices: self.mesh_vertices
#            mode: 'triangle_fan'
#            indices: range(6)
#        PopMatrix:

<-HexCellWidget>:
    id: cell
    canvas.after:
        PushMatrix
        Translate:
            xy: self.pos
        Color:
            rgba: 0, 0, 0, 0.5*self.is_highlighted
        Mesh:
            vertices: self.mesh_vertices
            mode: 'triangle_fan'
            indices: range(6)
        Color:
            rgba: 1.0, 0, 0, 1.0*self.is_selected
        Line:
            points: self.circuit
            width: 1.5
        PopMatrix


<-Hexgrid>:
#    FloatLayout:
    id: grid
#    size: (600, 600)
    FullImage:
        id: background
#        size: grid.size
        pos: grid.pos
        source: "./data/fonchik_pustynka1.png"


<-FullImage>:
    id: img
    allow_stretch: True
    keep_ratio: True
#    size_hint_y: None
#    size_hint_x: None
    size_hint: (None, None)
    canvas:
        PushMatrix
        Translate:
            xy: self.pos
        Color:
            rgb: (1, 1, 1)
        Rectangle:
            texture: self.texture
            size: self.texture.size if self.texture else (0, 0)
        PopMatrix