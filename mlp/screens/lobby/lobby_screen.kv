#:import sla kivy.adapters.simplelistadapter
#:import CompositeListItem kivy.uix.listview.CompositeListItem
#:import label kivy.uix.label
#:import Spinner kivy.uix.spinner.Spinner

<ControlButton@Widget>:
    size_hint: None, None
    height: dp(30)

<ClickableLabel@ButtonBehavior+Label>
<MyButton@ControlButton+Button>


<LobbyScreen@Screen>:
    BoxLayout:
        id: container
        orientation: 'vertical'

        BoxLayout:
            id: buttons_view
            orientation: 'horizontal'
            size_hint: 1, None

            # I honestly, genuinely, sincerely have no idea why layout's height is about thrice as much without this line.
            # It looks like a hack, but I joke you not, the layout overstretches otherwise.
            height: exit_button.height

            MyButton:
                id: exit_button
                text: "Exit"
                on_press: app.stop()

            MyButton:
                id: create_session
                text: "Find Game"
                on_press: root.find_session("user")

            MyButton:
                id: vs_ai
                text: "VS AI"
                on_press: root.find_session("ai")

    RecycleView:
        id: online_users
        pos_hint: {'right': 1.0}
        size_hint: 0.2, 0.8
        viewclass: 'Label'
        RecycleBoxLayout:
            orientation: 'vertical'
            default_size: None, dp(56)
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height
            canvas:
                Color:
                    rgba: 0.3, 0.3, 0.3, 1.0
                Rectangle:
                    pos: self.pos
                    size: self.size
    Spinner:
        id: character
        pos_hint: {'left': 0.0, 'top': 1.0}
        size_hint: (None, None)
        text: 'Character'
        values: ('Muzik', 'Dog')